<!DOCTYPE html>
<html>
<head>
    <title>Turkish Conversion Test</title>
    <meta charset="UTF-8">
</head>
<body>
    <h2>ğŸ§ª Turkish Conversion Test</h2>
    <div id="output"></div>
    
    <script>
        async function testTurkishConversion() {
            const output = document.getElementById('output');
            output.innerHTML = '<p>Testing API...</p>';
            
            try {
                const response = await fetch('https://astroyorumai-api.onrender.com/natal', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        "date": "1990-06-15",
                        "time": "14:30",
                        "latitude": 41.0082,
                        "longitude": 28.9784
                    })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('API Response:', data);
                    
                    // Turkish mapping
                    const planetMap = {
                        'Sun': 'GÃ¼neÅŸ',
                        'Moon': 'Ay',
                        'Mercury': 'MerkÃ¼r',
                        'Venus': 'VenÃ¼s',
                        'Mars': 'Mars',
                        'Jupiter': 'JÃ¼piter',
                        'Saturn': 'SatÃ¼rn'
                    };
                    
                    const signMap = {
                        'Aries': 'KoÃ§', 'Taurus': 'BoÄŸa', 'Gemini': 'Ä°kizler',
                        'Cancer': 'YengeÃ§', 'Leo': 'Aslan', 'Virgo': 'BaÅŸak',
                        'Libra': 'Terazi', 'Scorpio': 'Akrep', 'Sagittarius': 'Yay',
                        'Capricorn': 'OÄŸlak', 'Aquarius': 'Kova', 'Pisces': 'BalÄ±k'
                    };
                    
                    let html = '<h3>âœ… API Response Success</h3>';
                    html += '<h4>ğŸŒŸ Original Planets:</h4><ul>';
                    
                    const planets = data.planets || {};
                    for (const [planetName, planetData] of Object.entries(planets)) {
                        const sign = planetData.sign || 'N/A';
                        const deg = planetData.deg || 'N/A';
                        html += `<li><strong>${planetName}</strong>: ${sign} (${deg}Â°)</li>`;
                    }
                    html += '</ul>';
                    
                    html += '<h4>ğŸ‡¹ğŸ‡· Turkish Converted:</h4><ul>';
                    for (const [planetName, planetData] of Object.entries(planets)) {
                        const turkishPlanet = planetMap[planetName] || planetName;
                        const sign = planetData.sign || 'N/A';
                        const turkishSign = signMap[sign] || sign;
                        const deg = planetData.deg || 'N/A';
                        html += `<li><strong>${turkishPlanet}</strong>: ${turkishSign} (${deg}Â°)</li>`;
                    }
                    html += '</ul>';
                    
                    const ascendant = data.ascendant || 'N/A';
                    const turkishAscendant = signMap[ascendant] || ascendant;
                    html += `<h4>ğŸ”® Ascendant: ${ascendant} â†’ ${turkishAscendant}</h4>`;
                    
                    output.innerHTML = html;
                } else {
                    output.innerHTML = `<p>âŒ API Error: ${response.status}</p>`;
                }
            } catch (error) {
                output.innerHTML = `<p>âŒ Error: ${error.message}</p>`;
                console.error('Error:', error);
            }
        }
        
        // Test on page load
        testTurkishConversion();
    </script>
</body>
</html>
